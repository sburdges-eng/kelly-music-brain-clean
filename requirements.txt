# =============================================================================
# Kelly ML Training Requirements (Mac-Optimized)
# =============================================================================
# Tested on macOS with Python 3.10+
# For Intel Macs: CPU-only training
# For Apple Silicon (M1/M2/M3): Uses Metal backend (MPS) when available
#
# Installation:
#   brew install python
#   python -m venv venv
#   source venv/bin/activate
#   pip install -r requirements.txt
# =============================================================================

# -----------------------------------------------------------------------------
# Core Scientific Computing
# -----------------------------------------------------------------------------
numpy>=1.24.0,<2.0.0
scipy>=1.10.0

# -----------------------------------------------------------------------------
# Audio Processing
# -----------------------------------------------------------------------------
librosa>=0.10.0
soundfile>=0.12.0
audioread>=3.0.0
resampy>=0.4.0

# -----------------------------------------------------------------------------
# PyTorch (CPU/MPS - Mac-safe)
# -----------------------------------------------------------------------------
# For Apple Silicon: MPS backend is automatically used
# For Intel Macs: CPU only
# Note: Do NOT install torch with CUDA on Mac
torch>=2.0.0,<2.3.0
torchaudio>=2.0.0,<2.3.0

# -----------------------------------------------------------------------------
# ML/AI Frameworks
# -----------------------------------------------------------------------------
transformers>=4.30.0
onnx>=1.14.0
onnxruntime>=1.15.0

# For Core ML export (macOS native)
coremltools>=7.0

# -----------------------------------------------------------------------------
# Training Utilities
# -----------------------------------------------------------------------------
tqdm>=4.65.0
tensorboard>=2.13.0
wandb>=0.15.0  # Optional: cloud logging

# -----------------------------------------------------------------------------
# Data Processing
# -----------------------------------------------------------------------------
pandas>=2.0.0
h5py>=3.8.0
pyarrow>=12.0.0

# -----------------------------------------------------------------------------
# Configuration & Serialization
# -----------------------------------------------------------------------------
pyyaml>=6.0
python-dotenv>=1.0.0
jsonschema>=4.17.0

# -----------------------------------------------------------------------------
# Visualization
# -----------------------------------------------------------------------------
matplotlib>=3.7.0
seaborn>=0.12.0

# -----------------------------------------------------------------------------
# Development & Testing
# -----------------------------------------------------------------------------
pytest>=7.3.0
pytest-cov>=4.1.0
black>=23.3.0
ruff>=0.0.270
mypy>=1.3.0

# -----------------------------------------------------------------------------
# Optional: Pretrained Models (Mac-Friendly)
# -----------------------------------------------------------------------------
# Whisper for transcription (use tiny/small for performance)
# openai-whisper>=20230918

# CLAP for audio-language embeddings
# laion-clap>=1.1.0

# -----------------------------------------------------------------------------
# Optional: Advanced Audio
# -----------------------------------------------------------------------------
# pedalboard>=0.7.0  # Spotify's audio effects
# madmom>=0.16.1     # Music analysis
# mir_eval>=0.7      # MIR evaluation metrics
